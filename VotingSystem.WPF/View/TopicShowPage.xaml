<Page x:Class="VotingSystem.WPF.View.TopicShowPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:VotingSystem.WPF.View"
      xmlns:vm="clr-namespace:VotingSystem.WPF.ViewModel"
      mc:Ignorable="d" 
      d:DesignHeight="1080" d:DesignWidth="1920"
      Title="TopicShowPage" d:DataContext="{d:DesignInstance Type=vm:TopicShowViewModel, IsDesignTimeCreatable=True}">
    <Page.Resources>
        <DataTemplate x:Key="CIT" DataType="{x:Type vm:ChoiceViewModel}">
            <Grid Height="100px">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="100px"/>
                </Grid.ColumnDefinitions>
                <Label FontSize="50" Content="{Binding Value}" VerticalContentAlignment="Center" Padding="50,0,0,0" Foreground="#FFACACAC"/>
                <CheckBox Grid.Column="1"
                          IsChecked="{Binding IsSelected, Mode=TwoWay}"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Center">
                    <CheckBox.LayoutTransform>
                        <ScaleTransform ScaleX="3" ScaleY="3"/>
                    </CheckBox.LayoutTransform>
                </CheckBox>
            </Grid>
        </DataTemplate>
        <Style TargetType="{x:Type Button}">
            <Setter Property="Cursor" Value="Arrow"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Cursor" Value="Hand"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Page.Resources>
    <Grid Background="#FF1D1E2B">
        <Grid.RowDefinitions>
            <RowDefinition Height="150"/>
            <RowDefinition/>
            <RowDefinition Height="150"/>
        </Grid.RowDefinitions>
        <Grid Background="#FFD69052">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="auto"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Label Content="{Binding Topic.Name}" HorizontalAlignment="Left" Margin="50,0,0,0" VerticalAlignment="Center" FontSize="50"/>
            <Label Content="Választási lehetőségek: " HorizontalAlignment="Left" Margin="50,0,0,0" VerticalAlignment="Center" FontSize="50" Grid.Row="1"/>
            <Label Content="{Binding Topic.MinimalVotes}" HorizontalAlignment="Left" Margin="50,0,0,0" VerticalAlignment="Center" FontSize="50" Grid.Column="1"  Grid.Row="1"/>
            <Label Content="-" HorizontalAlignment="Left" Margin="50,0,0,0" VerticalAlignment="Center" FontSize="50" Grid.Column="2"  Grid.Row="1"/>
            <Label Content="{Binding Topic.MaximalVotes}" HorizontalAlignment="Left" Margin="50,0,0,0" VerticalAlignment="Center" FontSize="50" Grid.Column="3"  Grid.Row="1"/>
        </Grid>

        <ListBox Grid.Row="1" Background="Transparent" BorderThickness="0"
                 ItemsSource="{Binding Topic.Choices}"
                 ItemTemplate="{StaticResource CIT}"
                 HorizontalContentAlignment="Stretch"/>

        <Border BorderBrush="#FFD69052" BorderThickness="2,2,2,2" VerticalAlignment="Bottom" Margin="-50,0,0,20" 
                HorizontalAlignment="Left" Width="500" CornerRadius="50" Height="100" Grid.Row="2">
            <Button Content="Vissza" FontSize="70" HorizontalContentAlignment="Center" 
                    Background="{x:Null}" FontFamily="Calibri Light" 
                    Foreground="#FFD69052" BorderBrush="{x:Null}"
                    Command="{Binding BackCommand}">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border Background="Transparent">
                            <ContentPresenter HorizontalAlignment="Center"
                                  VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Button.Template>
            </Button>
        </Border>

        <Border BorderBrush="#FFD69052" BorderThickness="2,2,2,2" VerticalAlignment="Bottom" Margin="0,0,-50,20" 
                HorizontalAlignment="Right" Width="500" CornerRadius="50" Height="100" Grid.Row="2">
            <Button Content="Szavazás" FontSize="70" HorizontalContentAlignment="Center" 
                    Background="{x:Null}" FontFamily="Calibri Light" 
                    Foreground="#FFD69052" BorderBrush="{x:Null}"
                    Command="{Binding VoteCommand}">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border Background="Transparent">
                            <ContentPresenter HorizontalAlignment="Center"
                                  VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Button.Template>
            </Button>
        </Border>
    </Grid>
</Page>
